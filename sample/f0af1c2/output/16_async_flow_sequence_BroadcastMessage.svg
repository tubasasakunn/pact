<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1112 600" width="1112" height="600">
<rect x="50" y="50" width="178" height="40" stroke="#000" fill="#fff"/>
<text x="139" y="75" text-anchor="middle">NotificationDispatcher</text>
<line x1="139" y1="100" x2="139" y2="500" stroke="#000" stroke-dasharray="5,5"/>
<rect x="258" y="50" width="113" height="40" fill="#fff" stroke="#000"/>
<text x="314" y="75" text-anchor="middle">EmailProvider</text>
<line x1="314" y1="100" x2="314" y2="500" stroke="#000" stroke-dasharray="5,5"/>
<rect x="401" y="50" width="99" height="40" fill="#fff" stroke="#000"/>
<text x="450" y="75" text-anchor="middle">SMSProvider</text>
<line x1="450" y1="100" x2="450" y2="500" stroke="#000" stroke-dasharray="5,5"/>
<rect x="530" y="50" width="106" height="40" fill="#fff" stroke="#000"/>
<text x="583" y="75" text-anchor="middle">PushProvider</text>
<line x1="583" y1="100" x2="583" y2="500" stroke="#000" stroke-dasharray="5,5"/>
<rect x="666" y="50" width="127" height="40" fill="#fff" stroke="#000"/>
<text x="729" y="75" text-anchor="middle">UserPreferences</text>
<line x1="729" y1="100" x2="729" y2="500" stroke="#000" stroke-dasharray="5,5"/>
<rect x="823" y="50" width="99" height="40" fill="#fff" stroke="#000"/>
<text x="872" y="75" text-anchor="middle">DeliveryLog</text>
<line x1="872" y1="100" x2="872" y2="500" stroke="#000" stroke-dasharray="5,5"/>
<rect x="952" y="50" width="80" height="40" fill="#fff" stroke="#000"/>
<text x="992" y="75" text-anchor="middle">self</text>
<line x1="992" y1="100" x2="992" y2="500" stroke="#000" stroke-dasharray="5,5"/>
<line x1="139" y1="120" x2="729" y2="120" stroke="#000"/>
<polygon points="729,120 721,123 721,116" fill="#000"/>
<text x="434" y="115" text-anchor="middle">getAllActiveUsers</text>
<line x1="139" y1="160" x2="992" y2="160" stroke="#000" stroke-dasharray="5,5"/>
<line x1="984" y1="155" x2="992" y2="160" stroke="#000"/>
<line x1="984" y1="165" x2="992" y2="160" stroke="#000"/>
<text x="565" y="155" text-anchor="middle">DispatchNotification</text>
<rect x="50" y="150" width="1012" height="60" stroke="#000" fill="none"/>
<text x="60" y="160">[loop] for user</text>
<rect x="159" y="190" width="99" height="25" stroke="#006600" fill="#ccffcc"/>
<text x="169" y="205">return sent</text>
<rect x="724" y="120" width="10" height="110" fill="#fff" stroke="#000"/>
</svg>