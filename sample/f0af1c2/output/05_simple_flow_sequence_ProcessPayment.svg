<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600" width="800" height="600">
<rect x="50" y="50" width="135" height="40" fill="#fff" stroke="#000"/>
<text x="117" y="75" text-anchor="middle">PaymentProcessor</text>
<line x1="117" y1="100" x2="117" y2="500" stroke="#000" stroke-dasharray="5,5"/>
<rect x="215" y="50" width="80" height="40" fill="#fff" stroke="#000"/>
<text x="255" y="75" text-anchor="middle">BankAPI</text>
<line x1="255" y1="100" x2="255" y2="500" stroke="#000" stroke-dasharray="5,5"/>
<rect x="325" y="50" width="113" height="40" fill="#fff" stroke="#000"/>
<text x="381" y="75" text-anchor="middle">FraudDetector</text>
<line x1="381" y1="100" x2="381" y2="500" stroke="#000" stroke-dasharray="5,5"/>
<rect x="468" y="50" width="80" height="40" fill="#fff" stroke="#000"/>
<text x="508" y="75" text-anchor="middle">self</text>
<line x1="508" y1="100" x2="508" y2="500" stroke="#000" stroke-dasharray="5,5"/>
<line x1="117" y1="120" x2="381" y2="120" stroke="#000"/>
<polygon points="381,120 373,123 373,116" fill="#000"/>
<text x="249" y="115" text-anchor="middle">check</text>
<rect x="137" y="150" width="192" height="25" fill="#ffcccc" stroke="#cc0000"/>
<text x="147" y="165">throw FraudDetectedError</text>
<rect x="50" y="150" width="700" height="50" stroke="#000" fill="none"/>
<text x="60" y="160">[alt] condition</text>
<line x1="117" y1="190" x2="255" y2="190" stroke="#000"/>
<polygon points="255,190 247,193 247,186" fill="#000"/>
<text x="186" y="185" text-anchor="middle">charge</text>
<line x1="117" y1="230" x2="508" y2="230" stroke="#000"/>
<polygon points="508,230 500,233 500,226" fill="#000"/>
<text x="312" y="225" text-anchor="middle">recordTransaction</text>
<rect x="137" y="260" width="113" height="25" fill="#ccffcc" stroke="#006600"/>
<text x="147" y="275">return result</text>
<rect x="503" y="230" width="10" height="70" fill="#fff" stroke="#000"/>
<text x="60" y="315">[else]</text>
<rect x="137" y="310" width="207" height="25" fill="#ffcccc" stroke="#cc0000"/>
<text x="147" y="325">throw PaymentDeclinedError</text>
<rect x="50" y="220" width="700" height="140" stroke="#000" fill="none"/>
<text x="60" y="230">[alt] condition</text>
<line x1="50" y1="305" x2="750" y2="305" stroke="#000" stroke-dasharray="5,5"/>
<rect x="376" y="120" width="10" height="230" stroke="#000" fill="#fff"/>
<rect x="250" y="190" width="10" height="160" fill="#fff" stroke="#000"/>
</svg>