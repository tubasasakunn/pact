<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 817 600" width="817" height="600">
<rect x="50" y="50" width="106" height="40" fill="#fff" stroke="#000"/>
<text x="103" y="75" text-anchor="middle">DataPipeline</text>
<line x1="103" y1="100" x2="103" y2="500" stroke="#000" stroke-dasharray="5,5"/>
<rect x="186" y="50" width="92" height="40" fill="#fff" stroke="#000"/>
<text x="232" y="75" text-anchor="middle">DataSource</text>
<line x1="232" y1="100" x2="232" y2="500" stroke="#000" stroke-dasharray="5,5"/>
<rect x="308" y="50" width="99" height="40" fill="#fff" stroke="#000"/>
<text x="357" y="75" text-anchor="middle">Transformer</text>
<line x1="357" y1="100" x2="357" y2="500" stroke="#000" stroke-dasharray="5,5"/>
<rect x="437" y="50" width="80" height="40" fill="#fff" stroke="#000"/>
<text x="477" y="75" text-anchor="middle">DataSink</text>
<line x1="477" y1="100" x2="477" y2="500" stroke="#000" stroke-dasharray="5,5"/>
<rect x="547" y="50" width="80" height="40" fill="#fff" stroke="#000"/>
<text x="587" y="75" text-anchor="middle">Monitor</text>
<line x1="587" y1="100" x2="587" y2="500" stroke-dasharray="5,5" stroke="#000"/>
<rect x="657" y="50" width="80" height="40" fill="#fff" stroke="#000"/>
<text x="697" y="75" text-anchor="middle">self</text>
<line x1="697" y1="100" x2="697" y2="500" stroke="#000" stroke-dasharray="5,5"/>
<line x1="103" y1="120" x2="232" y2="120" stroke="#000"/>
<polygon points="232,120 224,123 224,116" fill="#000"/>
<text x="167" y="115" text-anchor="middle">fetchBatch</text>
<line x1="103" y1="160" x2="357" y2="160" stroke="#000"/>
<polygon points="357,160 349,163 349,156" fill="#000"/>
<text x="230" y="155" text-anchor="middle">transform</text>
<line x1="103" y1="200" x2="477" y2="200" stroke-dasharray="5,5" stroke="#000"/>
<line x1="469" y1="195" x2="477" y2="200" stroke="#000"/>
<line x1="469" y1="205" x2="477" y2="200" stroke="#000"/>
<text x="290" y="195" text-anchor="middle">write</text>
<text x="60" y="255">[else]</text>
<line x1="103" y1="260" x2="587" y2="260" stroke="#000"/>
<polygon points="587,260 579,263 579,256" fill="#000"/>
<text x="345" y="255" text-anchor="middle">reportInvalid</text>
<rect x="582" y="260" width="10" height="40" stroke="#000" fill="#fff"/>
<rect x="50" y="190" width="717" height="120" fill="none" stroke="#000"/>
<text x="60" y="200">[alt] condition</text>
<line x1="50" y1="245" x2="767" y2="245" stroke="#000" stroke-dasharray="5,5"/>
<rect x="352" y="160" width="10" height="140" fill="#fff" stroke="#000"/>
<rect x="50" y="150" width="717" height="160" stroke="#000" fill="none"/>
<text x="60" y="160">[alt] condition</text>
<rect x="50" y="150" width="717" height="160" stroke="#000" fill="none"/>
<text x="60" y="160">[loop] for record</text>
<line x1="103" y1="300" x2="697" y2="300" stroke="#000"/>
<polygon points="697,300 689,303 689,296" fill="#000"/>
<text x="400" y="295" text-anchor="middle">createResult</text>
<line x1="103" y1="340" x2="587" y2="340" stroke="#000"/>
<polygon points="587,340 579,343 579,336" fill="#000"/>
<text x="345" y="335" text-anchor="middle">reportBatch</text>
<rect x="123" y="370" width="113" height="25" fill="#ccffcc" stroke="#006600"/>
<text x="133" y="385">return result</text>
<rect x="227" y="120" width="10" height="290" fill="#fff" stroke="#000"/>
<rect x="692" y="300" width="10" height="110" stroke="#000" fill="#fff"/>
<rect x="582" y="340" width="10" height="70" fill="#fff" stroke="#000"/>
</svg>